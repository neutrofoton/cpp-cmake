# About and Installation Conan Package Manager

Conan Package Manager is another way to install and use external libraries.
The step installation of it is:
1. Install Python3 (>= 3.4)
    ```bash
    brew install python3

    python3 --version
    ```
2. Install Conan through pip3
    ```bash
    pip3 install conan
    ```

3. Check conan installation
    ```bash
    conan
    ```

4. Run conan profile detection
    ```bash
    conan profile detect
    ```

# Steps adding external library from git source (using Conan)

1. Go to conan center package repository on https://conan.io/center
2. In this example we will use 
    - <code>cxxopts</code> a lightweight C++ command line option parser library of version <code>3.1.1</code>
3. Create a file called <code>conanfile.txt</code>.
4. Edit the CMakeList.txt of the executable
    ```bash
    find_package(cxxopts REQUIRED)

    add_executable(${EXECUTABLE_NAME} main.cc)

    target_link_libraries(${EXECUTABLE_NAME} PUBLIC 
        ${LIBRARY_NAME}
        fmt::fmt
        spdlog::spdlog_header_only
        cxxopts::cxxopts
        ) 
    ```
5. Besides the conanfile.txt, we need a Conan profile to build our project. Conan profiles allow users to define a configuration set for things like the compiler, build configuration, architecture, shared or static libraries, etc. Conan, by default, will not try to detect a profile automatically, so we need to create one. To let Conan try to guess the profile, based on the current operating system and installed tools, please run:
    ```bash
    conan profile detect --force
    ```
6. To get the location of the default profile we can use
    ```bash
    conan profile path default
    ```
7. We will use Conan to install <code>cxxopts</code> and generate the files that CMake needs to find this library and build our project. We will generate those files in the folder build.
    ```bash
    conan install . --output-folder=build --build=missing
    ```

8. As you can see in the output, there are a couple of things that happened:
    - Conan installed the <code>cxxopts</code> library from the remote server we configured at the beginning of the tutorial. This server stores both the Conan recipes, which are the files that define how libraries must be built, and the binaries that can be reused so we donâ€™t have to build from sources every time.

    - Conan generated several files under the build folder. Those files were generated by both the <code>CMakeToolchain</code> and <code>CMakeDeps</code> generators we set in the <code>conanfile.txt</code>. <code>CMakeDeps</code> generates files so that CMake finds the <code>cxxopts</code> library we have just downloaded. On the other side, <code>CMakeToolchain</code> generates a toolchain file for CMake so that we can transparently build our project with CMake using the same settings that we detected for our default profile.

9. Build the cmake
    ```
    cd build
    cmake .. -DCMAKE_TOOLCHAIN_FILE=conan_toolchain.cmake -DCMAKE_BUILD_TYPE=Release
    cmake --build .
    make
    ```

10. Run the app
    ```bash
    cd app
    ./the_app --help
    ```

# Conan Documentation
1. https://docs.conan.io/2/tutorial/consuming_packages/build_simple_cmake_project.html
2. https://github.com/conan-io/examples2